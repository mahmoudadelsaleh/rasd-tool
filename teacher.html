<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø¹Ù„Ù…</title>

<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>

<style>
body{font-family:Segoe UI;margin:0;background:#f1f5f9;}
header{
background:#1e293b;
color:white;
padding:15px;
display:flex;
justify-content:space-between;
align-items:center;
}
button{
background:#ef4444;
color:white;
border:none;
padding:6px 12px;
border-radius:8px;
cursor:pointer;
}
.container{
padding:15px;
max-width:600px;
margin:auto;
}
</style>
</head>
<body>

<header>
<div>ğŸ‘¨â€ğŸ« <b id="tName"></b></div>
<button onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
</header>

<div class="container">
<p>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ØµØ¯</p>
</div>

<script>
const firebaseConfig={
apiKey:"AIzaSyBePGZiqMPmZQdg36jZ4Rkdtd7OISxmob8",
projectId:"rasd-tools"
};
firebase.initializeApp(firebaseConfig);
const db=firebase.firestore();

const tId=sessionStorage.getItem("userEmail");
const isAdmin=sessionStorage.getItem("isAdmin");

if(!tId||isAdmin==="true"){
location.href="index.html";
}

async function loadTeacher(){
try{
const doc=await db.collection("teachers").doc(tId).get();
if(!doc.exists){
logout();
return;
}
tName.innerText=doc.data().name;
}catch(e){
logout();
}
}

function logout(){
sessionStorage.clear();
location.href="index.html";
}

loadTeacher();
</script>

</body>
</html>